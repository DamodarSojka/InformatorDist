<!-- empty div necessary because set-class-when-at-top directive is using direct parent that can only contain this element --> <div> <md-toolbar class="IK-toolbar-shadow IK-custom-toolbar" style="background-color:rgba(0,0,0,0)" set-class-when-at-top="fix-to-top" padding-when-at-top="0" give-parent-height="true"> <div class="md-toolbar-tools IK-custom-toolbar"> <span flex layout="row"> <span flex></span> <h2 class="hide-on-small-only IK-no-select IK-cursor-arrow">Lublin</h2> <span flex></span> </span> <md-button md-no-ink class="IK-hover-opacity md-icon-button IK-remove-teal-circle" aria-label="{{'Wydarzenia Lublin' | translate}} {{previousDayDate()}}" ng-href="{{getLinkUrl('leftArrow')}}" ng-click="moveDay($event, -1)" ng-attr-title="{{'Wydarzenia Lublin' | translate}} {{previousDayDate()}}"> <md-icon class="IK-custom-toolbar-icon material-icons">keyboard_arrow_left</md-icon> </md-button> <!-- nesting spans and id for correct datepicker behaviour --> <span> <md-button id="dateStickyToolbar" style="color: black" title="{{'Kalendarz' | translate}}" class="IK-pointer IK-md-button-remove IK-hover-opacity"> <h5>{{loadedDays[activeIndex]}}</h5> </md-button> </span> <md-button ng-attr-title="{{'Wydarzenia Lublin' | translate}} {{nextDayDate()}}" md-no-ink class="IK-hover-opacity md-icon-button IK-remove-teal-circle" aria-label="{{'Wydarzenia Lublin' | translate}} {{nextDayDate()}}" ng-href="{{getLinkUrl('rightArrow')}}" ng-click="moveDay($event, 1)"> <md-icon class="IK-custom-toolbar-icon material-icons">keyboard_arrow_right</md-icon> </md-button> <span flex layout="row"> <span flex></span> <div class="IK-hover-opacity valign-wrapper IK-pointer" ng-click="showCategories = !showCategories" ng-attr-title="{{'Kategorie' | translate}}" aria-label="{{'Kategorie' | translate}}"> <a class="valign hide-on-small-only IK-no-select" style="float:left">{{"Kategorie" | translate}}</a> <md-button md-no-ink class="md-icon-button IK-remove-teal-circle"> <md-icon class="IK-custom-toolbar-icon material-icons" ng-show="!showCategories">keyboard_arrow_down</md-icon> <md-icon class="IK-custom-toolbar-icon material-icons" ng-show="showCategories">keyboard_arrow_up</md-icon> </md-button> </div> <span flex></span> </span> </div> </md-toolbar> </div> <div ng-show="showCategories"> <div set-class-when-at-top="fix-to-top" top-css-value="{{dateToolbarHeight}}" padding-when-at-top="{{dateToolbarHeight}}" class="IK-categories-box" give-parent-height="false"> <div class="IK-pointer IK-hover-opacity" ng-class="{'IK-categories-box-category-selected':cat.picked}" ng-click="cat.picked = !cat.picked" ng-repeat="cat in categoriesFormattedModel">{{cat.name | translate}}</div> </div> </div> <div class="IK-paddings"> <!-- remember track by ALWAYS AT THE END othwerwise you are filtering track by? idk--> <div ng-repeat="loadedDAY in loadedDays track by $index" id="{{$index}}" ik-active="{{$index}}" href="#{{$index}}" du-scrollspy> <!-- scollspy listens for id inside href to become active
      rootscope on listens for IK-active to become active (just a name can be changed to anything) --> <!--element other than first --> <div ng-if="$index" layout="column"> <md-divider style="margin-bottom:10px; margin-top:10px"></md-divider> <div layout="row" layout-align="center center"> <md-subheder><h5>{{loadedDays[$index]}}</h5></md-subheder> </div> </div> <div class="row"> <section class="col s12 m6 l3"> <div ng-repeat="post in posts[loadedDAY] | postsModuloFilter:0:desiredNumberOfColumns | postsCategoriesFilter:categoriesFormattedModel"> <div ng-include="'views/post_card_template.html'"></div> </div> </section> <section class="col s12 m6 l3"> <div ng-repeat="post in posts[loadedDAY] | postsModuloFilter:1:desiredNumberOfColumns | postsCategoriesFilter:categoriesFormattedModel"> <div ng-include="'views/post_card_template.html'"></div> </div> </section> <section class="col s12 m6 l3"> <div ng-repeat="post in posts[loadedDAY] | postsModuloFilter:2:desiredNumberOfColumns | postsCategoriesFilter:categoriesFormattedModel"> <div ng-include="'views/post_card_template.html'"></div> </div> </section> <section class="col s12 m6 l3"> <div ng-repeat="post in posts[loadedDAY] | postsModuloFilter:3:desiredNumberOfColumns | postsCategoriesFilter:categoriesFormattedModel"> <div ng-include="'views/post_card_template.html'"></div> </div> </section> </div> </div> <md-divider style="margin-bottom:10px; margin-top:10px"></md-divider> <!-- load more --> <!-- sref only for crawler --> <div ng-click="appendDay($event)" ng-attr-title="{{'Wydarzenia Lublin' | translate}} {{appendDayDate()}}" ng-href="{{getLinkUrl('nextDay')}}" aria-label="{{'Wydarzenia Lublin' | translate}}: {{appendDayDate()}}" class="IK-pointer IK-hover-opacity"> <div layout="row"> <span flex></span>{{'Następny dzień' | translate}}<span flex></span> </div> <div layout="row"> <span flex></span> <md-icon style="color: black">keyboard_arrow_down</md-icon> <span flex></span> </div> </div> </div>